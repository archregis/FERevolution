on("change:repeating_weapons:WType change:repeating_spells:SType change:_reporder:weapons change:_reporder:spells remove:repeating_weapons remove:repeating_spells change:WSlot change:SSlot change:atktype", function(eventInfo) {
  getAttrs(["WSlot","SSlot","atktype"], function(v) {
    if (v.atktype == "Physical"){
      getSectionIDsOrdered("repeating_weapons", function(idarray) {
        slotnum = v.WSlot
        fID = idarray[Number(slotnum)-1];
        log("fID is" + fID)
        getAttrs(["Skl_total","Lck_total","Hitmod","repeating_weapons_"+fID+"_hit", "Hitb"], function(v) {
          log(JSON.stringify(v))
          let nindex = Object.keys(v)[3];
          log(nindex)
          let wHit = parseInt(v[nindex])||0;
          log("wHit is " + wHit)
